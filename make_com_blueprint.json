{
  "name": "YouTube to HTML/MD Summarizer",
  "description": "Automatically processes YouTube videos into formatted summaries using AssemblyAI and Anthropic Claude",
  "version": "1.0.0",
  "scenario": {
    "id": "youtube-summarizer",
    "name": "YouTube to HTML/MD Summarizer",
    "description": "Process YouTube videos into AI-generated summaries with HTML and Markdown output",
    "modules": [
      {
        "id": "webhook-trigger",
        "type": "webhook",
        "name": "Webhook Trigger",
        "position": {"x": 100, "y": 100},
        "configuration": {
          "url": "https://hook.eu1.make.com/YOUR_WEBHOOK_ID",
          "method": "POST",
          "contentType": "application/json",
          "authentication": "none",
          "response": {
            "status": 200,
            "contentType": "application/json",
            "body": "{\"success\": true, \"message\": \"Processing started\"}"
          }
        },
        "outputs": [
          {
            "name": "youtube_url",
            "type": "string",
            "description": "YouTube URL from webhook payload"
          },
          {
            "name": "summary_type",
            "type": "string",
            "description": "Summary format type (bullet_points, key_insights, detailed_summary)"
          }
        ]
      },
      {
        "id": "youtube-downloader",
        "type": "http",
        "name": "YouTube Audio Downloader",
        "position": {"x": 300, "y": 100},
        "configuration": {
          "method": "POST",
          "url": "https://api.4kdownloader.com/api/convert",
          "headers": {
            "Content-Type": "application/json",
            "Authorization": "Bearer {{YOUR_4K_API_KEY}}"
          },
          "body": {
            "url": "{{webhook-trigger.youtube_url}}",
            "format": "mp3",
            "quality": "best",
            "audio_only": true
          }
        },
        "outputs": [
          {
            "name": "audio_file_url",
            "type": "string",
            "description": "Downloaded audio file URL"
          },
          {
            "name": "video_title",
            "type": "string",
            "description": "YouTube video title"
          },
          {
            "name": "video_duration",
            "type": "number",
            "description": "Video duration in seconds"
          }
        ]
      },
      {
        "id": "assemblyai-transcriber",
        "type": "assemblyai",
        "name": "AssemblyAI Transcriber",
        "position": {"x": 500, "y": 100},
        "configuration": {
          "apiKey": "{{YOUR_ASSEMBLYAI_API_KEY}}",
          "fileUrl": "{{youtube-downloader.audio_file_url}}",
          "language": "auto",
          "speakerLabels": true,
          "punctuate": true,
          "formatText": true
        },
        "outputs": [
          {
            "name": "transcript_text",
            "type": "string",
            "description": "Full transcript text"
          },
          {
            "name": "confidence",
            "type": "number",
            "description": "Transcription confidence score"
          },
          {
            "name": "duration",
            "type": "number",
            "description": "Audio duration in seconds"
          }
        ]
      },
      {
        "id": "anthropic-summarizer",
        "type": "anthropic",
        "name": "Anthropic Claude Summarizer",
        "position": {"x": 700, "y": 100},
        "configuration": {
          "apiKey": "{{YOUR_ANTHROPIC_API_KEY}}",
          "model": "claude-3-sonnet-20240229",
          "maxTokens": 4000,
          "prompt": "Please summarize the following video transcript in {{webhook-trigger.summary_type}} format. Focus on the main topics, key insights, and important takeaways. Make it clear and actionable.\n\nTranscript:\n{{assemblyai-transcriber.transcript_text}}"
        },
        "outputs": [
          {
            "name": "summary_text",
            "type": "string",
            "description": "AI-generated summary"
          },
          {
            "name": "tokens_used",
            "type": "number",
            "description": "Number of tokens used"
          }
        ]
      },
      {
        "id": "markdown-formatter",
        "type": "text-parser",
        "name": "Markdown Formatter",
        "position": {"x": 900, "y": 100},
        "configuration": {
          "template": "# Video Summary\n\n**Video URL:** {{webhook-trigger.youtube_url}}\n**Video Title:** {{youtube-downloader.video_title}}\n**Duration:** {{youtube-downloader.video_duration}} seconds\n**Generated:** {{now}}\n\n## Summary\n\n{{anthropic-summarizer.summary_text}}\n\n## Full Transcript\n\n{{assemblyai-transcriber.transcript_text}}\n\n---\n*Generated by VidScribe2AI - AI Video Transcription & Summarization*"
        },
        "outputs": [
          {
            "name": "markdown_content",
            "type": "string",
            "description": "Formatted Markdown content"
          }
        ]
      },
      {
        "id": "html-converter",
        "type": "http",
        "name": "Markdown to HTML Converter",
        "position": {"x": 1100, "y": 100},
        "configuration": {
          "method": "POST",
          "url": "https://api.github.com/markdown",
          "headers": {
            "Content-Type": "application/json",
            "Accept": "application/vnd.github.v3+json"
          },
          "body": {
            "text": "{{markdown-formatter.markdown_content}}",
            "mode": "markdown"
          }
        },
        "outputs": [
          {
            "name": "html_content",
            "type": "string",
            "description": "Converted HTML content"
          }
        ]
      },
      {
        "id": "html-styler",
        "type": "text-parser",
        "name": "HTML Styler",
        "position": {"x": 1300, "y": 100},
        "configuration": {
          "template": "<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Video Summary - {{youtube-downloader.video_title}}</title>\n    <style>\n        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; line-height: 1.6; color: #333; max-width: 1000px; margin: 0 auto; padding: 20px; background: #f8f9fa; }\n        .container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 6px rgba(0,0,0,0.1); }\n        h1, h2, h3 { color: #2c3e50; }\n        .meta { color: #6c757d; font-size: 0.9em; margin-bottom: 20px; padding-bottom: 10px; border-bottom: 1px solid #dee2e6; }\n        ul, ol { margin: 15px 0; padding-left: 30px; }\n        li { margin: 8px 0; }\n        blockquote { border-left: 4px solid #3498db; margin: 20px 0; padding: 10px 20px; background: #f8f9fa; border-radius: 0 8px 8px 0; }\n        code { background: #f1f2f6; padding: 2px 6px; border-radius: 4px; font-family: 'Courier New', monospace; }\n        pre { background: #f1f2f6; padding: 15px; border-radius: 8px; overflow-x: auto; }\n        .footer { margin-top: 30px; padding-top: 20px; border-top: 1px solid #dee2e6; color: #6c757d; font-size: 0.9em; text-align: center; }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>ðŸŽ¥ Video Summary</h1>\n        <div class=\"meta\">\n            <strong>Video:</strong> {{youtube-downloader.video_title}}<br>\n            <strong>URL:</strong> <a href=\"{{webhook-trigger.youtube_url}}\" target=\"_blank\">{{webhook-trigger.youtube_url}}</a><br>\n            <strong>Duration:</strong> {{youtube-downloader.video_duration}} seconds<br>\n            <strong>Generated:</strong> {{now}}\n        </div>\n        {{html-converter.html_content}}\n        <div class=\"footer\">\n            <p>Generated by VidScribe2AI - AI Video Transcription & Summarization</p>\n        </div>\n    </div>\n</body>\n</html>"
        },
        "outputs": [
          {
            "name": "styled_html",
            "type": "string",
            "description": "Styled HTML content"
          }
        ]
      },
      {
        "id": "google-drive-upload",
        "type": "google-drive",
        "name": "Upload to Google Drive",
        "position": {"x": 1500, "y": 100},
        "configuration": {
          "action": "upload_file",
          "fileName": "video_summary_{{youtube-downloader.video_title}}.html",
          "fileContent": "{{html-styler.styled_html}}",
          "folderId": "{{YOUR_GOOGLE_DRIVE_FOLDER_ID}}",
          "mimeType": "text/html"
        },
        "outputs": [
          {
            "name": "file_url",
            "type": "string",
            "description": "Google Drive file URL"
          },
          {
            "name": "file_id",
            "type": "string",
            "description": "Google Drive file ID"
          }
        ]
      },
      {
        "id": "webhook-response",
        "type": "webhook",
        "name": "Webhook Response",
        "position": {"x": 1700, "y": 100},
        "configuration": {
          "action": "return_response",
          "status": 200,
          "contentType": "application/json",
          "body": "{\n  \"success\": true,\n  \"video_url\": \"{{webhook-trigger.youtube_url}}\",\n  \"video_title\": \"{{youtube-downloader.video_title}}\",\n  \"transcript\": \"{{assemblyai-transcriber.transcript_text}}\",\n  \"summary\": \"{{anthropic-summarizer.summary_text}}\",\n  \"html_content\": \"{{html-styler.styled_html}}\",\n  \"markdown_content\": \"{{markdown-formatter.markdown_content}}\",\n  \"download_links\": {\n    \"html\": \"{{google-drive-upload.file_url}}\",\n    \"markdown\": \"{{markdown-formatter.markdown_content}}\"\n  },\n  \"metadata\": {\n    \"duration\": {{youtube-downloader.video_duration}},\n    \"confidence\": {{assemblyai-transcriber.confidence}},\n    \"tokens_used\": {{anthropic-summarizer.tokens_used}}\n  }\n}"
        }
      }
    ],
    "connections": [
      {
        "from": "webhook-trigger",
        "to": "youtube-downloader",
        "mapping": {
          "youtube_url": "youtube_url",
          "summary_type": "summary_type"
        }
      },
      {
        "from": "youtube-downloader",
        "to": "assemblyai-transcriber",
        "mapping": {
          "audio_file_url": "fileUrl"
        }
      },
      {
        "from": "assemblyai-transcriber",
        "to": "anthropic-summarizer",
        "mapping": {
          "transcript_text": "transcript_text"
        }
      },
      {
        "from": "anthropic-summarizer",
        "to": "markdown-formatter",
        "mapping": {
          "summary_text": "summary_text"
        }
      },
      {
        "from": "markdown-formatter",
        "to": "html-converter",
        "mapping": {
          "markdown_content": "text"
        }
      },
      {
        "from": "html-converter",
        "to": "html-styler",
        "mapping": {
          "html_content": "html_content"
        }
      },
      {
        "from": "html-styler",
        "to": "google-drive-upload",
        "mapping": {
          "styled_html": "fileContent"
        }
      },
      {
        "from": "google-drive-upload",
        "to": "webhook-response",
        "mapping": {
          "file_url": "file_url"
        }
      }
    ],
    "settings": {
      "errorHandling": "stop",
      "retryAttempts": 3,
      "retryDelay": 30,
      "timeout": 300
    }
  },
  "instructions": {
    "setup": [
      "1. Import this blueprint into your Make.com account",
      "2. Connect your AssemblyAI account",
      "3. Connect your Anthropic Claude account",
      "4. Connect your Google Drive account",
      "5. Set up your 4K Video Downloader API key",
      "6. Configure the webhook URL",
      "7. Test with a sample YouTube URL"
    ],
    "usage": [
      "Send a POST request to the webhook URL with:",
      "{\"youtube_url\": \"https://youtube.com/watch?v=VIDEO_ID\", \"summary_type\": \"bullet_points\"}",
      "The scenario will process the video and return formatted results"
    ],
    "customization": [
      "Modify the summary prompts in the Anthropic module",
      "Adjust the HTML styling in the HTML Styler module",
      "Change output formats in the Markdown Formatter module",
      "Add additional output destinations (Dropbox, Email, etc.)"
    ]
  }
}
